{
  "id": "257d52fd-40c2-4d27-81e2-d728d525d284",
  "prevId": "00000000-0000-0000-0000-000000000000",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.adequacy_decisions": {
      "name": "adequacy_decisions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "country_code": {
          "name": "country_code",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "country_name": {
          "name": "country_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "region": {
          "name": "region",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "adequacy_decision_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "decision_type": {
          "name": "decision_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "adoption_date": {
          "name": "adoption_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "effective_date": {
          "name": "effective_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "expiry_date": {
          "name": "expiry_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "decision_reference": {
          "name": "decision_reference",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "legal_instrument": {
          "name": "legal_instrument",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "scope": {
          "name": "scope",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "limitations": {
          "name": "limitations",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "review_date": {
          "name": "review_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "review_frequency": {
          "name": "review_frequency",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "last_assessment_date": {
          "name": "last_assessment_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "next_assessment_date": {
          "name": "next_assessment_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "risk_factors": {
          "name": "risk_factors",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "risk_level": {
          "name": "risk_level",
          "type": "transfer_risk_level",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'medium'"
        },
        "government_access": {
          "name": "government_access",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "data_subject_rights": {
          "name": "data_subject_rights",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "change_history": {
          "name": "change_history",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "source_url": {
          "name": "source_url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "document_url": {
          "name": "document_url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "last_updated": {
          "name": "last_updated",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "data_source": {
          "name": "data_source",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'manual'"
        },
        "transfers_using_decision": {
          "name": "transfers_using_decision",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "organisations_affected": {
          "name": "organisations_affected",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_adequacy_decisions_country_code": {
          "name": "idx_adequacy_decisions_country_code",
          "columns": [
            {
              "expression": "country_code",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_adequacy_decisions_status": {
          "name": "idx_adequacy_decisions_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_adequacy_decisions_risk_level": {
          "name": "idx_adequacy_decisions_risk_level",
          "columns": [
            {
              "expression": "risk_level",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_adequacy_decisions_expiry_date": {
          "name": "idx_adequacy_decisions_expiry_date",
          "columns": [
            {
              "expression": "expiry_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_adequacy_decisions_review_date": {
          "name": "idx_adequacy_decisions_review_date",
          "columns": [
            {
              "expression": "review_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "idx_adequacy_decisions_country_code_unique": {
          "name": "idx_adequacy_decisions_country_code_unique",
          "nullsNotDistinct": false,
          "columns": [
            "country_code"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.age_verifications": {
      "name": "age_verifications",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "date_of_birth": {
          "name": "date_of_birth",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "age_verified": {
          "name": "age_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "parental_consent_required": {
          "name": "parental_consent_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "parental_consent_given": {
          "name": "parental_consent_given",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "parent_email": {
          "name": "parent_email",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "parent_name": {
          "name": "parent_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "verification_method": {
          "name": "verification_method",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "verified_at": {
          "name": "verified_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_age_verifications_user_id": {
          "name": "idx_age_verifications_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_age_verifications_organisation_id": {
          "name": "idx_age_verifications_organisation_id",
          "columns": [
            {
              "expression": "organisation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_age_verifications_age_verified": {
          "name": "idx_age_verifications_age_verified",
          "columns": [
            {
              "expression": "age_verified",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_age_verifications_parental_consent_required": {
          "name": "idx_age_verifications_parental_consent_required",
          "columns": [
            {
              "expression": "parental_consent_required",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "age_verifications_user_id_unique": {
          "name": "age_verifications_user_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "user_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.assignments": {
      "name": "assignments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "course_id": {
          "name": "course_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "due_date": {
          "name": "due_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "assignment_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'not_started'"
        },
        "assigned_by": {
          "name": "assigned_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "assigned_at": {
          "name": "assigned_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "notifications_enabled": {
          "name": "notifications_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "assignments_user_course_unique": {
          "name": "assignments_user_course_unique",
          "nullsNotDistinct": false,
          "columns": [
            "user_id",
            "course_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.audit_logs": {
      "name": "audit_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "action": {
          "name": "action",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "resource": {
          "name": "resource",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "resource_id": {
          "name": "resource_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "details": {
          "name": "details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.billing_locks": {
      "name": "billing_locks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "lock_type": {
          "name": "lock_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "resource_id": {
          "name": "resource_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "locked_by": {
          "name": "locked_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "lock_reason": {
          "name": "lock_reason",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "acquired_at": {
          "name": "acquired_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "renewed_at": {
          "name": "renewed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "queue_position": {
          "name": "queue_position",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "correlation_id": {
          "name": "correlation_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_billing_lock_resource": {
          "name": "idx_billing_lock_resource",
          "columns": [
            {
              "expression": "lock_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "resource_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_billing_lock_expires": {
          "name": "idx_billing_lock_expires",
          "columns": [
            {
              "expression": "expires_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_billing_lock_queue": {
          "name": "idx_billing_lock_queue",
          "columns": [
            {
              "expression": "lock_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "resource_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "queue_position",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_billing_lock_correlation": {
          "name": "idx_billing_lock_correlation",
          "columns": [
            {
              "expression": "correlation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_billing_lock": {
          "name": "unique_billing_lock",
          "nullsNotDistinct": false,
          "columns": [
            "lock_type",
            "resource_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.certificate_templates": {
      "name": "certificate_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "template": {
          "name": "template",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "template_format": {
          "name": "template_format",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'html'"
        },
        "template_data": {
          "name": "template_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.certificates": {
      "name": "certificates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "completion_id": {
          "name": "completion_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "course_id": {
          "name": "course_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "certificate_url": {
          "name": "certificate_url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "expiry_date": {
          "name": "expiry_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "issued_at": {
          "name": "issued_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.completions": {
      "name": "completions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "assignment_id": {
          "name": "assignment_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "course_id": {
          "name": "course_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "score": {
          "name": "score",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "completion_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "attempt_number": {
          "name": "attempt_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "time_spent": {
          "name": "time_spent",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "scorm_data": {
          "name": "scorm_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.compliance_document_audit": {
      "name": "compliance_document_audit",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "document_id": {
          "name": "document_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "action_by": {
          "name": "action_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "action_details": {
          "name": "action_details",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "changes_summary": {
          "name": "changes_summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "previous_version": {
          "name": "previous_version",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "new_version": {
          "name": "new_version",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "content_changes": {
          "name": "content_changes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "compliance_notes": {
          "name": "compliance_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "legal_review_required": {
          "name": "legal_review_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "risk_assessment": {
          "name": "risk_assessment",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_compliance_document_audit_organisation_id": {
          "name": "idx_compliance_document_audit_organisation_id",
          "columns": [
            {
              "expression": "organisation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_compliance_document_audit_document_id": {
          "name": "idx_compliance_document_audit_document_id",
          "columns": [
            {
              "expression": "document_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_compliance_document_audit_action": {
          "name": "idx_compliance_document_audit_action",
          "columns": [
            {
              "expression": "action",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_compliance_document_audit_action_by": {
          "name": "idx_compliance_document_audit_action_by",
          "columns": [
            {
              "expression": "action_by",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_compliance_document_audit_timestamp": {
          "name": "idx_compliance_document_audit_timestamp",
          "columns": [
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_compliance_document_audit_legal_review_required": {
          "name": "idx_compliance_document_audit_legal_review_required",
          "columns": [
            {
              "expression": "legal_review_required",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.compliance_document_publications": {
      "name": "compliance_document_publications",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "document_id": {
          "name": "document_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "is_public": {
          "name": "is_public",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "public_url": {
          "name": "public_url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "password_protected": {
          "name": "password_protected",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "access_password": {
          "name": "access_password",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "meta_title": {
          "name": "meta_title",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "meta_description": {
          "name": "meta_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "keywords": {
          "name": "keywords",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "canonical_url": {
          "name": "canonical_url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "show_last_updated": {
          "name": "show_last_updated",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "show_version": {
          "name": "show_version",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "show_contact_info": {
          "name": "show_contact_info",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "custom_styling": {
          "name": "custom_styling",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "allowed_domains": {
          "name": "allowed_domains",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "ip_whitelist": {
          "name": "ip_whitelist",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "requires_authentication": {
          "name": "requires_authentication",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "view_count": {
          "name": "view_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "download_count": {
          "name": "download_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "last_accessed": {
          "name": "last_accessed",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "published_at": {
          "name": "published_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "unpublished_at": {
          "name": "unpublished_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "updated_by": {
          "name": "updated_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_compliance_document_publications_organisation_id": {
          "name": "idx_compliance_document_publications_organisation_id",
          "columns": [
            {
              "expression": "organisation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_compliance_document_publications_document_id": {
          "name": "idx_compliance_document_publications_document_id",
          "columns": [
            {
              "expression": "document_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_compliance_document_publications_public_url": {
          "name": "idx_compliance_document_publications_public_url",
          "columns": [
            {
              "expression": "public_url",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_compliance_document_publications_is_public": {
          "name": "idx_compliance_document_publications_is_public",
          "columns": [
            {
              "expression": "is_public",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_compliance_document_publications_is_active": {
          "name": "idx_compliance_document_publications_is_active",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_compliance_document_publications_published_at": {
          "name": "idx_compliance_document_publications_published_at",
          "columns": [
            {
              "expression": "published_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "compliance_document_publications_public_url_unique": {
          "name": "compliance_document_publications_public_url_unique",
          "nullsNotDistinct": false,
          "columns": [
            "public_url"
          ]
        },
        "unique_compliance_document_publication": {
          "name": "unique_compliance_document_publication",
          "nullsNotDistinct": false,
          "columns": [
            "document_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.compliance_document_templates": {
      "name": "compliance_document_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "document_type": {
          "name": "document_type",
          "type": "compliance_document_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "template_key": {
          "name": "template_key",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "html_content": {
          "name": "html_content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "variables": {
          "name": "variables",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'"
        },
        "required_data": {
          "name": "required_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'"
        },
        "legal_basis": {
          "name": "legal_basis",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "regulatory_compliance": {
          "name": "regulatory_compliance",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "applicable_jurisdictions": {
          "name": "applicable_jurisdictions",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"UK\"}'"
        },
        "version": {
          "name": "version",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true,
          "default": "'1.0'"
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "last_legal_review": {
          "name": "last_legal_review",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "next_legal_review": {
          "name": "next_legal_review",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "usage_count": {
          "name": "usage_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "rating": {
          "name": "rating",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "allow_customization": {
          "name": "allow_customization",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "customization_guidelines": {
          "name": "customization_guidelines",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "updated_by": {
          "name": "updated_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "reviewed_by": {
          "name": "reviewed_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_compliance_document_templates_document_type": {
          "name": "idx_compliance_document_templates_document_type",
          "columns": [
            {
              "expression": "document_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_compliance_document_templates_template_key": {
          "name": "idx_compliance_document_templates_template_key",
          "columns": [
            {
              "expression": "template_key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_compliance_document_templates_is_default": {
          "name": "idx_compliance_document_templates_is_default",
          "columns": [
            {
              "expression": "is_default",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_compliance_document_templates_is_active": {
          "name": "idx_compliance_document_templates_is_active",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_compliance_document_templates_next_legal_review": {
          "name": "idx_compliance_document_templates_next_legal_review",
          "columns": [
            {
              "expression": "next_legal_review",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "compliance_document_templates_template_key_unique": {
          "name": "compliance_document_templates_template_key_unique",
          "nullsNotDistinct": false,
          "columns": [
            "template_key"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.compliance_documents": {
      "name": "compliance_documents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "document_type": {
          "name": "document_type",
          "type": "compliance_document_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "document_reference": {
          "name": "document_reference",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "html_content": {
          "name": "html_content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "plain_text_content": {
          "name": "plain_text_content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "generation_mode": {
          "name": "generation_mode",
          "type": "document_generation_mode",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'automatic'"
        },
        "template_id": {
          "name": "template_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "version": {
          "name": "version",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true,
          "default": "'1.0'"
        },
        "version_notes": {
          "name": "version_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_current_version": {
          "name": "is_current_version",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "parent_document_id": {
          "name": "parent_document_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "compliance_document_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "approved_by": {
          "name": "approved_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "approved_at": {
          "name": "approved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "published_at": {
          "name": "published_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "legal_basis": {
          "name": "legal_basis",
          "type": "processing_lawful_basis",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "regulatory_requirements": {
          "name": "regulatory_requirements",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "applicable_laws": {
          "name": "applicable_laws",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "last_review_date": {
          "name": "last_review_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "next_review_date": {
          "name": "next_review_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "review_frequency": {
          "name": "review_frequency",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 365
        },
        "word_count": {
          "name": "word_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "reading_time": {
          "name": "reading_time",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "language": {
          "name": "language",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'en'"
        },
        "public_url": {
          "name": "public_url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "download_url": {
          "name": "download_url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "data_snapshot": {
          "name": "data_snapshot",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "privacy_settings_used": {
          "name": "privacy_settings_used",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "processing_activities_used": {
          "name": "processing_activities_used",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'"
        },
        "last_auto_generated": {
          "name": "last_auto_generated",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "requires_regeneration": {
          "name": "requires_regeneration",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "updated_by": {
          "name": "updated_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "last_modified_by": {
          "name": "last_modified_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_compliance_documents_organisation_id": {
          "name": "idx_compliance_documents_organisation_id",
          "columns": [
            {
              "expression": "organisation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_compliance_documents_document_type": {
          "name": "idx_compliance_documents_document_type",
          "columns": [
            {
              "expression": "document_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_compliance_documents_status": {
          "name": "idx_compliance_documents_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_compliance_documents_is_current_version": {
          "name": "idx_compliance_documents_is_current_version",
          "columns": [
            {
              "expression": "is_current_version",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_compliance_documents_published_at": {
          "name": "idx_compliance_documents_published_at",
          "columns": [
            {
              "expression": "published_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_compliance_documents_expires_at": {
          "name": "idx_compliance_documents_expires_at",
          "columns": [
            {
              "expression": "expires_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_compliance_documents_next_review_date": {
          "name": "idx_compliance_documents_next_review_date",
          "columns": [
            {
              "expression": "next_review_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_compliance_documents_requires_regeneration": {
          "name": "idx_compliance_documents_requires_regeneration",
          "columns": [
            {
              "expression": "requires_regeneration",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_compliance_documents_parent_document_id": {
          "name": "idx_compliance_documents_parent_document_id",
          "columns": [
            {
              "expression": "parent_document_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_current_compliance_document": {
          "name": "unique_current_compliance_document",
          "nullsNotDistinct": false,
          "columns": [
            "organisation_id",
            "document_type",
            "is_current_version"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.consent_records": {
      "name": "consent_records",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "consent_type": {
          "name": "consent_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "consent_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "lawful_basis": {
          "name": "lawful_basis",
          "type": "processing_lawful_basis",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "purpose": {
          "name": "purpose",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "ip_address": {
          "name": "ip_address",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "policy_version": {
          "name": "policy_version",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "withdrawn_at": {
          "name": "withdrawn_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "marketing_consents": {
          "name": "marketing_consents",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "cookie_consents": {
          "name": "cookie_consents",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_consent_records_user_id": {
          "name": "idx_consent_records_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_consent_records_organisation_id": {
          "name": "idx_consent_records_organisation_id",
          "columns": [
            {
              "expression": "organisation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_consent_records_status": {
          "name": "idx_consent_records_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_consent_records_timestamp": {
          "name": "idx_consent_records_timestamp",
          "columns": [
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.cookie_inventory": {
      "name": "cookie_inventory",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "purpose": {
          "name": "purpose",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "cookie_category",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "duration": {
          "name": "duration",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "provider": {
          "name": "provider",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "domain": {
          "name": "domain",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "essential": {
          "name": "essential",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_cookie_inventory_organisation_id": {
          "name": "idx_cookie_inventory_organisation_id",
          "columns": [
            {
              "expression": "organisation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_cookie_inventory_category": {
          "name": "idx_cookie_inventory_category",
          "columns": [
            {
              "expression": "category",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_cookie_inventory_essential": {
          "name": "idx_cookie_inventory_essential",
          "columns": [
            {
              "expression": "essential",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.course_folders": {
      "name": "course_folders",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "color": {
          "name": "color",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'#3b82f6'"
        },
        "icon": {
          "name": "icon",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'fas fa-folder'"
        },
        "sort_order": {
          "name": "sort_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.courses": {
      "name": "courses",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "title": {
          "name": "title",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "folder_id": {
          "name": "folder_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "scorm_package_url": {
          "name": "scorm_package_url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "cover_image_url": {
          "name": "cover_image_url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "estimated_duration": {
          "name": "estimated_duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "passmark": {
          "name": "passmark",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 80
        },
        "category": {
          "name": "category",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "tags": {
          "name": "tags",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "certificate_expiry_period": {
          "name": "certificate_expiry_period",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "launch_url_override": {
          "name": "launch_url_override",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "scorm_version": {
          "name": "scorm_version",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false
        },
        "scorm_organizations": {
          "name": "scorm_organizations",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "default_organization": {
          "name": "default_organization",
          "type": "varchar(191)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "course_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.data_breaches": {
      "name": "data_breaches",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "severity": {
          "name": "severity",
          "type": "breach_severity",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "breach_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'detected'"
        },
        "detected_at": {
          "name": "detected_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "reported_at": {
          "name": "reported_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "ico_notified_at": {
          "name": "ico_notified_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "subjects_notified_at": {
          "name": "subjects_notified_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "affected_subjects": {
          "name": "affected_subjects",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "data_categories": {
          "name": "data_categories",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "ARRAY[]::text[]"
        },
        "cause": {
          "name": "cause",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "impact": {
          "name": "impact",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "containment_measures": {
          "name": "containment_measures",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "preventive_measures": {
          "name": "preventive_measures",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "notification_deadline": {
          "name": "notification_deadline",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "responsible": {
          "name": "responsible",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "attachments": {
          "name": "attachments",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "ARRAY[]::text[]"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_data_breaches_organisation_id": {
          "name": "idx_data_breaches_organisation_id",
          "columns": [
            {
              "expression": "organisation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_data_breaches_severity": {
          "name": "idx_data_breaches_severity",
          "columns": [
            {
              "expression": "severity",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_data_breaches_status": {
          "name": "idx_data_breaches_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_data_breaches_detected_at": {
          "name": "idx_data_breaches_detected_at",
          "columns": [
            {
              "expression": "detected_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_data_breaches_notification_deadline": {
          "name": "idx_data_breaches_notification_deadline",
          "columns": [
            {
              "expression": "notification_deadline",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.data_lifecycle_records": {
      "name": "data_lifecycle_records",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "data_type": {
          "name": "data_type",
          "type": "retention_data_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "resource_id": {
          "name": "resource_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "resource_table": {
          "name": "resource_table",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "data_lifecycle_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "policy_id": {
          "name": "policy_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "data_created_at": {
          "name": "data_created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "retention_eligible_at": {
          "name": "retention_eligible_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "soft_delete_scheduled_at": {
          "name": "soft_delete_scheduled_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "soft_deleted_at": {
          "name": "soft_deleted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "secure_erase_scheduled_at": {
          "name": "secure_erase_scheduled_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "secure_erased_at": {
          "name": "secure_erased_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "archived_at": {
          "name": "archived_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "frozen_at": {
          "name": "frozen_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "deletion_reason": {
          "name": "deletion_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deletion_method": {
          "name": "deletion_method",
          "type": "retention_deletion_method",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "secure_erase_method": {
          "name": "secure_erase_method",
          "type": "secure_erase_method",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "deletion_confirmation": {
          "name": "deletion_confirmation",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "compliance_certificate": {
          "name": "compliance_certificate",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "last_processed_at": {
          "name": "last_processed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "processing_errors": {
          "name": "processing_errors",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'"
        },
        "retry_count": {
          "name": "retry_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_data_lifecycle_records_organisation_id": {
          "name": "idx_data_lifecycle_records_organisation_id",
          "columns": [
            {
              "expression": "organisation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_data_lifecycle_records_user_id": {
          "name": "idx_data_lifecycle_records_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_data_lifecycle_records_data_type": {
          "name": "idx_data_lifecycle_records_data_type",
          "columns": [
            {
              "expression": "data_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_data_lifecycle_records_status": {
          "name": "idx_data_lifecycle_records_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_data_lifecycle_records_policy_id": {
          "name": "idx_data_lifecycle_records_policy_id",
          "columns": [
            {
              "expression": "policy_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_data_lifecycle_records_resource": {
          "name": "idx_data_lifecycle_records_resource",
          "columns": [
            {
              "expression": "resource_table",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "resource_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_data_lifecycle_records_retention_eligible": {
          "name": "idx_data_lifecycle_records_retention_eligible",
          "columns": [
            {
              "expression": "retention_eligible_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_data_lifecycle_records_soft_delete_scheduled": {
          "name": "idx_data_lifecycle_records_soft_delete_scheduled",
          "columns": [
            {
              "expression": "soft_delete_scheduled_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_data_lifecycle_records_secure_erase_scheduled": {
          "name": "idx_data_lifecycle_records_secure_erase_scheduled",
          "columns": [
            {
              "expression": "secure_erase_scheduled_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_data_lifecycle_processing": {
          "name": "idx_data_lifecycle_processing",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "last_processed_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.data_retention_policies": {
      "name": "data_retention_policies",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "data_type": {
          "name": "data_type",
          "type": "retention_data_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "retention_period": {
          "name": "retention_period",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "grace_period": {
          "name": "grace_period",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 30
        },
        "deletion_method": {
          "name": "deletion_method",
          "type": "retention_deletion_method",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'soft'"
        },
        "secure_erase_method": {
          "name": "secure_erase_method",
          "type": "secure_erase_method",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'overwrite_multiple'"
        },
        "trigger_type": {
          "name": "trigger_type",
          "type": "retention_policy_trigger",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'time_based'"
        },
        "legal_basis": {
          "name": "legal_basis",
          "type": "processing_lawful_basis",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "regulatory_requirement": {
          "name": "regulatory_requirement",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 100
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "automatic_deletion": {
          "name": "automatic_deletion",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "requires_manual_review": {
          "name": "requires_manual_review",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "notification_settings": {
          "name": "notification_settings",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_data_retention_policies_organisation_id": {
          "name": "idx_data_retention_policies_organisation_id",
          "columns": [
            {
              "expression": "organisation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_data_retention_policies_data_type": {
          "name": "idx_data_retention_policies_data_type",
          "columns": [
            {
              "expression": "data_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_data_retention_policies_enabled": {
          "name": "idx_data_retention_policies_enabled",
          "columns": [
            {
              "expression": "enabled",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_data_retention_policies_trigger_type": {
          "name": "idx_data_retention_policies_trigger_type",
          "columns": [
            {
              "expression": "trigger_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_data_retention_policies_priority": {
          "name": "idx_data_retention_policies_priority",
          "columns": [
            {
              "expression": "priority",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_data_retention_policies_automatic_deletion": {
          "name": "idx_data_retention_policies_automatic_deletion",
          "columns": [
            {
              "expression": "automatic_deletion",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.email_logs": {
      "name": "email_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "provider": {
          "name": "provider",
          "type": "email_provider",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "from_email": {
          "name": "from_email",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "to_email": {
          "name": "to_email",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "subject": {
          "name": "subject",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "template_type": {
          "name": "template_type",
          "type": "email_template_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "http_status": {
          "name": "http_status",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "smtp_status": {
          "name": "smtp_status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "endpoint": {
          "name": "endpoint",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "message_id": {
          "name": "message_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "error_short": {
          "name": "error_short",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "error_raw": {
          "name": "error_raw",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "key_preview": {
          "name": "key_preview",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "key_length": {
          "name": "key_length",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "effective_field_sources": {
          "name": "effective_field_sources",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "routing_source": {
          "name": "routing_source",
          "type": "email_routing_source",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "smtp_host": {
          "name": "smtp_host",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "smtp_port": {
          "name": "smtp_port",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "tls_used": {
          "name": "tls_used",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "used_org_settings": {
          "name": "used_org_settings",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "fallback_used": {
          "name": "fallback_used",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.email_provider_configs": {
      "name": "email_provider_configs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "provider": {
          "name": "provider",
          "type": "email_provider",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "config_json": {
          "name": "config_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "is_default_for_org": {
          "name": "is_default_for_org",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "idx_email_provider_org": {
          "name": "idx_email_provider_org",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_email_provider_default": {
          "name": "idx_email_provider_default",
          "columns": [
            {
              "expression": "is_default_for_org",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.email_sends": {
      "name": "email_sends",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "idempotency_key": {
          "name": "idempotency_key",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "trigger_event": {
          "name": "trigger_event",
          "type": "email_trigger_event",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "template_key": {
          "name": "template_key",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "to_email": {
          "name": "to_email",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "subject": {
          "name": "subject",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "html_content": {
          "name": "html_content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "text_content": {
          "name": "text_content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "template_variables": {
          "name": "template_variables",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "email_send_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "provider": {
          "name": "provider",
          "type": "email_provider",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "provider_message_id": {
          "name": "provider_message_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "error_code": {
          "name": "error_code",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "retry_count": {
          "name": "retry_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "next_retry_at": {
          "name": "next_retry_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_attempt_at": {
          "name": "last_attempt_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "sent_at": {
          "name": "sent_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "delivered_at": {
          "name": "delivered_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "from_email": {
          "name": "from_email",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "from_name": {
          "name": "from_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "reply_to": {
          "name": "reply_to",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "routing_source": {
          "name": "routing_source",
          "type": "email_routing_source",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_email_sends_status": {
          "name": "idx_email_sends_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_email_sends_trigger": {
          "name": "idx_email_sends_trigger",
          "columns": [
            {
              "expression": "trigger_event",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_email_sends_org": {
          "name": "idx_email_sends_org",
          "columns": [
            {
              "expression": "organisation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_email_sends_retry": {
          "name": "idx_email_sends_retry",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "next_retry_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_email_sends_created": {
          "name": "idx_email_sends_created",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "email_sends_idempotency_key_unique": {
          "name": "email_sends_idempotency_key_unique",
          "nullsNotDistinct": false,
          "columns": [
            "idempotency_key"
          ]
        },
        "unique_email_send_idempotency": {
          "name": "unique_email_send_idempotency",
          "nullsNotDistinct": false,
          "columns": [
            "idempotency_key"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.email_settings_lock": {
      "name": "email_settings_lock",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "lock_type": {
          "name": "lock_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "resource_id": {
          "name": "resource_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "locked_by": {
          "name": "locked_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "lock_reason": {
          "name": "lock_reason",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_email_lock_resource": {
          "name": "idx_email_lock_resource",
          "columns": [
            {
              "expression": "lock_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "resource_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_email_lock_expires": {
          "name": "idx_email_lock_expires",
          "columns": [
            {
              "expression": "expires_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_email_lock": {
          "name": "unique_email_lock",
          "nullsNotDistinct": false,
          "columns": [
            "lock_type",
            "resource_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.email_templates": {
      "name": "email_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "key": {
          "name": "key",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "subject": {
          "name": "subject",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "html": {
          "name": "html",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "mjml": {
          "name": "mjml",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "text": {
          "name": "text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "variables_schema": {
          "name": "variables_schema",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "email_template_category",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_email_template_key": {
          "name": "idx_email_template_key",
          "columns": [
            {
              "expression": "key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_email_template_category": {
          "name": "idx_email_template_category",
          "columns": [
            {
              "expression": "category",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_email_template_active": {
          "name": "idx_email_template_active",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "email_templates_key_unique": {
          "name": "email_templates_key_unique",
          "nullsNotDistinct": false,
          "columns": [
            "key"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.gdpr_audit_logs": {
      "name": "gdpr_audit_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "admin_id": {
          "name": "admin_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "action": {
          "name": "action",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "resource": {
          "name": "resource",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "resource_id": {
          "name": "resource_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "details": {
          "name": "details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "ip_address": {
          "name": "ip_address",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_gdpr_audit_logs_organisation_id": {
          "name": "idx_gdpr_audit_logs_organisation_id",
          "columns": [
            {
              "expression": "organisation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_gdpr_audit_logs_user_id": {
          "name": "idx_gdpr_audit_logs_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_gdpr_audit_logs_admin_id": {
          "name": "idx_gdpr_audit_logs_admin_id",
          "columns": [
            {
              "expression": "admin_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_gdpr_audit_logs_action": {
          "name": "idx_gdpr_audit_logs_action",
          "columns": [
            {
              "expression": "action",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_gdpr_audit_logs_resource": {
          "name": "idx_gdpr_audit_logs_resource",
          "columns": [
            {
              "expression": "resource",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_gdpr_audit_logs_timestamp": {
          "name": "idx_gdpr_audit_logs_timestamp",
          "columns": [
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.international_transfers": {
      "name": "international_transfers",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "transfer_name": {
          "name": "transfer_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "transfer_description": {
          "name": "transfer_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "transfer_reference": {
          "name": "transfer_reference",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "transfer_type": {
          "name": "transfer_type",
          "type": "transfer_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "data_categories": {
          "name": "data_categories",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "data_subject_categories": {
          "name": "data_subject_categories",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "special_categories": {
          "name": "special_categories",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "origin_country": {
          "name": "origin_country",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true,
          "default": "'GB'"
        },
        "destination_country": {
          "name": "destination_country",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "recipient": {
          "name": "recipient",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "recipient_contact": {
          "name": "recipient_contact",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "transfer_purpose": {
          "name": "transfer_purpose",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "legal_basis": {
          "name": "legal_basis",
          "type": "transfer_legal_basis",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "transfer_mechanism": {
          "name": "transfer_mechanism",
          "type": "transfer_mechanism_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "mechanism_reference": {
          "name": "mechanism_reference",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "transfer_frequency": {
          "name": "transfer_frequency",
          "type": "transfer_frequency",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "volume_description": {
          "name": "volume_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "retention_period": {
          "name": "retention_period",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "transfer_start": {
          "name": "transfer_start",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "transfer_end": {
          "name": "transfer_end",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "risk_level": {
          "name": "risk_level",
          "type": "transfer_risk_level",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "risk_assessment_date": {
          "name": "risk_assessment_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "risk_assessment_by": {
          "name": "risk_assessment_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "compliance_notes": {
          "name": "compliance_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "transfer_impact_assessment_id": {
          "name": "transfer_impact_assessment_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "transfer_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending_approval'"
        },
        "approved_by": {
          "name": "approved_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "approved_at": {
          "name": "approved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "review_due": {
          "name": "review_due",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_review_date": {
          "name": "last_review_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "next_review_date": {
          "name": "next_review_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "alerts_enabled": {
          "name": "alerts_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "documents": {
          "name": "documents",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "technical_safeguards": {
          "name": "technical_safeguards",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "organisational_safeguards": {
          "name": "organisational_safeguards",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "supplementary_measures": {
          "name": "supplementary_measures",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "updated_by": {
          "name": "updated_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_international_transfers_organisation_id": {
          "name": "idx_international_transfers_organisation_id",
          "columns": [
            {
              "expression": "organisation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_international_transfers_destination_country": {
          "name": "idx_international_transfers_destination_country",
          "columns": [
            {
              "expression": "destination_country",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_international_transfers_status": {
          "name": "idx_international_transfers_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_international_transfers_risk_level": {
          "name": "idx_international_transfers_risk_level",
          "columns": [
            {
              "expression": "risk_level",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_international_transfers_review_due": {
          "name": "idx_international_transfers_review_due",
          "columns": [
            {
              "expression": "review_due",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_international_transfers_transfer_type": {
          "name": "idx_international_transfers_transfer_type",
          "columns": [
            {
              "expression": "transfer_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_international_transfers_legal_basis": {
          "name": "idx_international_transfers_legal_basis",
          "columns": [
            {
              "expression": "legal_basis",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_international_transfers_created_by": {
          "name": "idx_international_transfers_created_by",
          "columns": [
            {
              "expression": "created_by",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.org_email_templates": {
      "name": "org_email_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "org_id": {
          "name": "org_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "template_key": {
          "name": "template_key",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "subject_override": {
          "name": "subject_override",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "html_override": {
          "name": "html_override",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "mjml_override": {
          "name": "mjml_override",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "text_override": {
          "name": "text_override",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_org_email_template_org": {
          "name": "idx_org_email_template_org",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_org_email_template_key": {
          "name": "idx_org_email_template_key",
          "columns": [
            {
              "expression": "template_key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_org_email_template_org_key": {
          "name": "idx_org_email_template_org_key",
          "columns": [
            {
              "expression": "org_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "template_key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "unique_org_email_template": {
          "name": "unique_org_email_template",
          "nullsNotDistinct": false,
          "columns": [
            "org_id",
            "template_key"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.org_notification_settings": {
      "name": "org_notification_settings",
      "schema": "",
      "columns": {
        "org_id": {
          "name": "org_id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true
        },
        "send_to_admins": {
          "name": "send_to_admins",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "extra_recipients": {
          "name": "extra_recipients",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "email_provider_config_id": {
          "name": "email_provider_config_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_by": {
          "name": "updated_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.organisation_course_folders": {
      "name": "organisation_course_folders",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "folder_id": {
          "name": "folder_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "granted_by": {
          "name": "granted_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.organisation_settings": {
      "name": "organisation_settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "signature_image_url": {
          "name": "signature_image_url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "signer_name": {
          "name": "signer_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "signer_title": {
          "name": "signer_title",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "certificate_text": {
          "name": "certificate_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'has successfully completed'"
        },
        "assignment_emails_enabled": {
          "name": "assignment_emails_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "reminder_emails_enabled": {
          "name": "reminder_emails_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "completion_emails_enabled": {
          "name": "completion_emails_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "reminder_days": {
          "name": "reminder_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 7
        },
        "default_certificate_download": {
          "name": "default_certificate_download",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "email_provider": {
          "name": "email_provider",
          "type": "email_provider",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "from_name": {
          "name": "from_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "from_email": {
          "name": "from_email",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "reply_to": {
          "name": "reply_to",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "smtp_host": {
          "name": "smtp_host",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "smtp_port": {
          "name": "smtp_port",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "smtp_username": {
          "name": "smtp_username",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "smtp_password": {
          "name": "smtp_password",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "smtp_secure": {
          "name": "smtp_secure",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "api_key": {
          "name": "api_key",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "api_secret": {
          "name": "api_secret",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "api_base_url": {
          "name": "api_base_url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "api_domain": {
          "name": "api_domain",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "api_region": {
          "name": "api_region",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "organisation_settings_organisation_id_unique": {
          "name": "organisation_settings_organisation_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "organisation_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.organisations": {
      "name": "organisations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "subdomain": {
          "name": "subdomain",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "logo_url": {
          "name": "logo_url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "theme": {
          "name": "theme",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'light'"
        },
        "accent_color": {
          "name": "accent_color",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'#3b82f6'"
        },
        "primary_color": {
          "name": "primary_color",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'#3b82f6'"
        },
        "use_custom_colors": {
          "name": "use_custom_colors",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "contact_email": {
          "name": "contact_email",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "contact_phone": {
          "name": "contact_phone",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "address": {
          "name": "address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "organisation_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "plan_id": {
          "name": "plan_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_customer_id": {
          "name": "stripe_customer_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_subscription_id": {
          "name": "stripe_subscription_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_subscription_item_id": {
          "name": "stripe_subscription_item_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "billing_status": {
          "name": "billing_status",
          "type": "billing_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "active_user_count": {
          "name": "active_user_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "current_period_end": {
          "name": "current_period_end",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_billing_sync": {
          "name": "last_billing_sync",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_organisation_billing_status": {
          "name": "idx_organisation_billing_status",
          "columns": [
            {
              "expression": "billing_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_organisation_stripe_customer": {
          "name": "idx_organisation_stripe_customer",
          "columns": [
            {
              "expression": "stripe_customer_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_organisation_subscription": {
          "name": "idx_organisation_subscription",
          "columns": [
            {
              "expression": "stripe_subscription_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "organisations_subdomain_unique": {
          "name": "organisations_subdomain_unique",
          "nullsNotDistinct": false,
          "columns": [
            "subdomain"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.plan_feature_mappings": {
      "name": "plan_feature_mappings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "plan_id": {
          "name": "plan_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "feature_id": {
          "name": "feature_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.plan_features": {
      "name": "plan_features",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "key": {
          "name": "key",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "plan_features_key_unique": {
          "name": "plan_features_key_unique",
          "nullsNotDistinct": false,
          "columns": [
            "key"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.plans": {
      "name": "plans",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "billing_model": {
          "name": "billing_model",
          "type": "billing_model",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "cadence": {
          "name": "cadence",
          "type": "billing_cadence",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'monthly'"
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'GBP'"
        },
        "unit_amount": {
          "name": "unit_amount",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "tax_behavior": {
          "name": "tax_behavior",
          "type": "tax_behavior",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'exclusive'"
        },
        "trial_days": {
          "name": "trial_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "min_seats": {
          "name": "min_seats",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_product_id": {
          "name": "stripe_product_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_price_id": {
          "name": "stripe_price_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "price_change_policy": {
          "name": "price_change_policy",
          "type": "price_change_policy",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'prorate_immediately'"
        },
        "price_per_user": {
          "name": "price_per_user",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "plan_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.platform_settings": {
      "name": "platform_settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "key": {
          "name": "key",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "value": {
          "name": "value",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "platform_settings_key_unique": {
          "name": "platform_settings_key_unique",
          "nullsNotDistinct": false,
          "columns": [
            "key"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.privacy_settings": {
      "name": "privacy_settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "data_retention_period": {
          "name": "data_retention_period",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 2555
        },
        "cookie_settings": {
          "name": "cookie_settings",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "privacy_contacts": {
          "name": "privacy_contacts",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "international_transfers": {
          "name": "international_transfers",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "settings": {
          "name": "settings",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_privacy_settings_organisation_id": {
          "name": "idx_privacy_settings_organisation_id",
          "columns": [
            {
              "expression": "organisation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "privacy_settings_organisation_id_unique": {
          "name": "privacy_settings_organisation_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "organisation_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.processing_activities": {
      "name": "processing_activities",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "purpose": {
          "name": "purpose",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "lawful_basis": {
          "name": "lawful_basis",
          "type": "processing_lawful_basis",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "data_categories": {
          "name": "data_categories",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "ARRAY[]::text[]"
        },
        "data_subjects": {
          "name": "data_subjects",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "ARRAY[]::text[]"
        },
        "recipients": {
          "name": "recipients",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "ARRAY[]::text[]"
        },
        "international_transfers": {
          "name": "international_transfers",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "transfer_countries": {
          "name": "transfer_countries",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "ARRAY[]::text[]"
        },
        "retention_period": {
          "name": "retention_period",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "security_measures": {
          "name": "security_measures",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "ARRAY[]::text[]"
        },
        "dpia": {
          "name": "dpia",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{\"required\": false, \"completed\": false}'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_processing_activities_organisation_id": {
          "name": "idx_processing_activities_organisation_id",
          "columns": [
            {
              "expression": "organisation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_processing_activities_lawful_basis": {
          "name": "idx_processing_activities_lawful_basis",
          "columns": [
            {
              "expression": "lawful_basis",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.retention_compliance_audits": {
      "name": "retention_compliance_audits",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "audit_date": {
          "name": "audit_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "policy_id": {
          "name": "policy_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "data_type": {
          "name": "data_type",
          "type": "retention_data_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "total_records": {
          "name": "total_records",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "compliant_records": {
          "name": "compliant_records",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "overdue_records": {
          "name": "overdue_records",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "error_records": {
          "name": "error_records",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "processed_records": {
          "name": "processed_records",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "average_retention_period": {
          "name": "average_retention_period",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "longest_retention_period": {
          "name": "longest_retention_period",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "oldest_record": {
          "name": "oldest_record",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "compliance_rate": {
          "name": "compliance_rate",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "is_compliant": {
          "name": "is_compliant",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "risk_level": {
          "name": "risk_level",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true,
          "default": "'low'"
        },
        "issues": {
          "name": "issues",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'"
        },
        "recommendations": {
          "name": "recommendations",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'"
        },
        "audit_notes": {
          "name": "audit_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "audit_performed_by": {
          "name": "audit_performed_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "audit_duration": {
          "name": "audit_duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "next_audit_due": {
          "name": "next_audit_due",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_retention_compliance_audits_organisation_id": {
          "name": "idx_retention_compliance_audits_organisation_id",
          "columns": [
            {
              "expression": "organisation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_retention_compliance_audits_policy_id": {
          "name": "idx_retention_compliance_audits_policy_id",
          "columns": [
            {
              "expression": "policy_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_retention_compliance_audits_data_type": {
          "name": "idx_retention_compliance_audits_data_type",
          "columns": [
            {
              "expression": "data_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_retention_compliance_audits_audit_date": {
          "name": "idx_retention_compliance_audits_audit_date",
          "columns": [
            {
              "expression": "audit_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_retention_compliance_audits_compliance": {
          "name": "idx_retention_compliance_audits_compliance",
          "columns": [
            {
              "expression": "is_compliant",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "compliance_rate",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_retention_compliance_audits_risk_level": {
          "name": "idx_retention_compliance_audits_risk_level",
          "columns": [
            {
              "expression": "risk_level",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_retention_compliance_audits_next_due": {
          "name": "idx_retention_compliance_audits_next_due",
          "columns": [
            {
              "expression": "next_audit_due",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.retention_rules": {
      "name": "retention_rules",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "data_type": {
          "name": "data_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "retention_period": {
          "name": "retention_period",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "deletion_method": {
          "name": "deletion_method",
          "type": "retention_deletion_method",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'soft'"
        },
        "legal_basis": {
          "name": "legal_basis",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_retention_rules_organisation_id": {
          "name": "idx_retention_rules_organisation_id",
          "columns": [
            {
              "expression": "organisation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_retention_rules_data_type": {
          "name": "idx_retention_rules_data_type",
          "columns": [
            {
              "expression": "data_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_retention_rules_enabled": {
          "name": "idx_retention_rules_enabled",
          "columns": [
            {
              "expression": "enabled",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.retention_schedules": {
      "name": "retention_schedules",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "data_type": {
          "name": "data_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "scheduled_deletion": {
          "name": "scheduled_deletion",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "retention_schedule_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'scheduled'"
        },
        "retention_rule_id": {
          "name": "retention_rule_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "processed_at": {
          "name": "processed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_retention_schedules_organisation_id": {
          "name": "idx_retention_schedules_organisation_id",
          "columns": [
            {
              "expression": "organisation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_retention_schedules_user_id": {
          "name": "idx_retention_schedules_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_retention_schedules_scheduled_deletion": {
          "name": "idx_retention_schedules_scheduled_deletion",
          "columns": [
            {
              "expression": "scheduled_deletion",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_retention_schedules_status": {
          "name": "idx_retention_schedules_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_retention_schedules_retention_rule_id": {
          "name": "idx_retention_schedules_retention_rule_id",
          "columns": [
            {
              "expression": "retention_rule_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.scorm_attempts": {
      "name": "scorm_attempts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "attempt_id": {
          "name": "attempt_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "assignment_id": {
          "name": "assignment_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "course_id": {
          "name": "course_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "item_id": {
          "name": "item_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "scorm_version": {
          "name": "scorm_version",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "scorm_attempt_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'not_started'"
        },
        "lesson_status": {
          "name": "lesson_status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "lesson_location": {
          "name": "lesson_location",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "completion_status": {
          "name": "completion_status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "success_status": {
          "name": "success_status",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "location": {
          "name": "location",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "progress_measure": {
          "name": "progress_measure",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "score_raw": {
          "name": "score_raw",
          "type": "numeric(7, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "score_scaled": {
          "name": "score_scaled",
          "type": "numeric(5, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "score_min": {
          "name": "score_min",
          "type": "numeric(7, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "score_max": {
          "name": "score_max",
          "type": "numeric(7, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "session_time": {
          "name": "session_time",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "suspend_data": {
          "name": "suspend_data",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "progress_percent": {
          "name": "progress_percent",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "passed": {
          "name": "passed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "completed": {
          "name": "completed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "passmark": {
          "name": "passmark",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "last_commit_at": {
          "name": "last_commit_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "finished_at": {
          "name": "finished_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "certificate_url": {
          "name": "certificate_url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "certificate_generated_at": {
          "name": "certificate_generated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "raw_scorm_data": {
          "name": "raw_scorm_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "scorm_attempts_attempt_id_unique": {
          "name": "scorm_attempts_attempt_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "attempt_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.secure_deletion_certificates": {
      "name": "secure_deletion_certificates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "certificate_number": {
          "name": "certificate_number",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "data_types": {
          "name": "data_types",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "record_count": {
          "name": "record_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "deletion_method": {
          "name": "deletion_method",
          "type": "secure_erase_method",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "deletion_started": {
          "name": "deletion_started",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "deletion_completed": {
          "name": "deletion_completed",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "verification_hash": {
          "name": "verification_hash",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "witnessed_by": {
          "name": "witnessed_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "verification_method": {
          "name": "verification_method",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "legal_basis": {
          "name": "legal_basis",
          "type": "processing_lawful_basis",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "regulatory_requirement": {
          "name": "regulatory_requirement",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "request_origin": {
          "name": "request_origin",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "request_reference": {
          "name": "request_reference",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "certificate_template": {
          "name": "certificate_template",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false,
          "default": "'standard'"
        },
        "certificate_url": {
          "name": "certificate_url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "digital_signature": {
          "name": "digital_signature",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "valid_until": {
          "name": "valid_until",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "deletion_reason": {
          "name": "deletion_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "compliance_notes": {
          "name": "compliance_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_secure_deletion_certificates_organisation_id": {
          "name": "idx_secure_deletion_certificates_organisation_id",
          "columns": [
            {
              "expression": "organisation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_secure_deletion_certificates_certificate_number": {
          "name": "idx_secure_deletion_certificates_certificate_number",
          "columns": [
            {
              "expression": "certificate_number",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_secure_deletion_certificates_user_id": {
          "name": "idx_secure_deletion_certificates_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_secure_deletion_certificates_deletion_completed": {
          "name": "idx_secure_deletion_certificates_deletion_completed",
          "columns": [
            {
              "expression": "deletion_completed",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_secure_deletion_certificates_request_origin": {
          "name": "idx_secure_deletion_certificates_request_origin",
          "columns": [
            {
              "expression": "request_origin",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_secure_deletion_certificates_legal_basis": {
          "name": "idx_secure_deletion_certificates_legal_basis",
          "columns": [
            {
              "expression": "legal_basis",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "secure_deletion_certificates_certificate_number_unique": {
          "name": "secure_deletion_certificates_certificate_number_unique",
          "nullsNotDistinct": false,
          "columns": [
            "certificate_number"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sessions": {
      "name": "sessions",
      "schema": "",
      "columns": {
        "sid": {
          "name": "sid",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true
        },
        "sess": {
          "name": "sess",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "expire": {
          "name": "expire",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "IDX_session_expire": {
          "name": "IDX_session_expire",
          "columns": [
            {
              "expression": "expire",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.standard_contractual_clauses": {
      "name": "standard_contractual_clauses",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "transfer_mechanism_id": {
          "name": "transfer_mechanism_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "scc_type": {
          "name": "scc_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "scc_version": {
          "name": "scc_version",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "adoption_decision": {
          "name": "adoption_decision",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "data_exporter": {
          "name": "data_exporter",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "data_importer": {
          "name": "data_importer",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "transfer_details": {
          "name": "transfer_details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "module_one": {
          "name": "module_one",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "module_two": {
          "name": "module_two",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "module_three": {
          "name": "module_three",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "module_four": {
          "name": "module_four",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "annex_one": {
          "name": "annex_one",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "annex_two": {
          "name": "annex_two",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "annex_three": {
          "name": "annex_three",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "execution_date": {
          "name": "execution_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "executed_by": {
          "name": "executed_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "digital_signature": {
          "name": "digital_signature",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "signature_details": {
          "name": "signature_details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "last_review_date": {
          "name": "last_review_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "next_review_date": {
          "name": "next_review_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "compliance_issues": {
          "name": "compliance_issues",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "remedial_actions": {
          "name": "remedial_actions",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "original_document": {
          "name": "original_document",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "amendment_history": {
          "name": "amendment_history",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "termination_date": {
          "name": "termination_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "termination_reason": {
          "name": "termination_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "updated_by": {
          "name": "updated_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_standard_contractual_clauses_organisation_id": {
          "name": "idx_standard_contractual_clauses_organisation_id",
          "columns": [
            {
              "expression": "organisation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_standard_contractual_clauses_transfer_mechanism_id": {
          "name": "idx_standard_contractual_clauses_transfer_mechanism_id",
          "columns": [
            {
              "expression": "transfer_mechanism_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_standard_contractual_clauses_scc_type": {
          "name": "idx_standard_contractual_clauses_scc_type",
          "columns": [
            {
              "expression": "scc_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_standard_contractual_clauses_execution_date": {
          "name": "idx_standard_contractual_clauses_execution_date",
          "columns": [
            {
              "expression": "execution_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_standard_contractual_clauses_next_review_date": {
          "name": "idx_standard_contractual_clauses_next_review_date",
          "columns": [
            {
              "expression": "next_review_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_standard_contractual_clauses_is_active": {
          "name": "idx_standard_contractual_clauses_is_active",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.support_ticket_responses": {
      "name": "support_ticket_responses",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "ticket_id": {
          "name": "ticket_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_internal": {
          "name": "is_internal",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "attachments": {
          "name": "attachments",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.support_tickets": {
      "name": "support_tickets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "ticket_number": {
          "name": "ticket_number",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "ticket_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'open'"
        },
        "priority": {
          "name": "priority",
          "type": "ticket_priority",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'medium'"
        },
        "category": {
          "name": "category",
          "type": "ticket_category",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'general'"
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "assigned_to": {
          "name": "assigned_to",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "is_read": {
          "name": "is_read",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "last_response_at": {
          "name": "last_response_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "support_tickets_ticket_number_unique": {
          "name": "support_tickets_ticket_number_unique",
          "nullsNotDistinct": false,
          "columns": [
            "ticket_number"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.system_email_settings": {
      "name": "system_email_settings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "email_provider": {
          "name": "email_provider",
          "type": "email_provider",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "from_name": {
          "name": "from_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "from_email": {
          "name": "from_email",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "reply_to": {
          "name": "reply_to",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "smtp_host": {
          "name": "smtp_host",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "smtp_port": {
          "name": "smtp_port",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "smtp_username": {
          "name": "smtp_username",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "smtp_password": {
          "name": "smtp_password",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "smtp_secure": {
          "name": "smtp_secure",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "api_key": {
          "name": "api_key",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "api_secret": {
          "name": "api_secret",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "api_base_url": {
          "name": "api_base_url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "api_domain": {
          "name": "api_domain",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "api_region": {
          "name": "api_region",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.todo_items": {
      "name": "todo_items",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "task": {
          "name": "task",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "completed": {
          "name": "completed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "order": {
          "name": "order",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.transfer_impact_assessments": {
      "name": "transfer_impact_assessments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "tia_reference": {
          "name": "tia_reference",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "data_categories": {
          "name": "data_categories",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "data_subject_categories": {
          "name": "data_subject_categories",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true
        },
        "transfer_purpose": {
          "name": "transfer_purpose",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "origin_country": {
          "name": "origin_country",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true,
          "default": "'GB'"
        },
        "destination_country": {
          "name": "destination_country",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "recipient": {
          "name": "recipient",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "proposed_mechanism": {
          "name": "proposed_mechanism",
          "type": "transfer_mechanism_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "country_risk_score": {
          "name": "country_risk_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "recipient_risk_score": {
          "name": "recipient_risk_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "data_risk_score": {
          "name": "data_risk_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "overall_risk_score": {
          "name": "overall_risk_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "risk_level": {
          "name": "risk_level",
          "type": "transfer_risk_level",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "identified_risks": {
          "name": "identified_risks",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "existing_safeguards": {
          "name": "existing_safeguards",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "proposed_safeguards": {
          "name": "proposed_safeguards",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "supplementary_measures": {
          "name": "supplementary_measures",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "safeguards_effectiveness": {
          "name": "safeguards_effectiveness",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "lawful_basis_assessment": {
          "name": "lawful_basis_assessment",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "recipient_legal_framework": {
          "name": "recipient_legal_framework",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "government_access_risks": {
          "name": "government_access_risks",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "data_subject_rights": {
          "name": "data_subject_rights",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "recommendation": {
          "name": "recommendation",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "conditional_requirements": {
          "name": "conditional_requirements",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "decision_rationale": {
          "name": "decision_rationale",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "tia_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "submitted_by": {
          "name": "submitted_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "submitted_at": {
          "name": "submitted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "reviewed_by": {
          "name": "reviewed_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "reviewed_at": {
          "name": "reviewed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "approved_by": {
          "name": "approved_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "approved_at": {
          "name": "approved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "valid_from": {
          "name": "valid_from",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "valid_until": {
          "name": "valid_until",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "review_required": {
          "name": "review_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "next_review_date": {
          "name": "next_review_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "stakeholders_consulted": {
          "name": "stakeholders_consulted",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "consultation_notes": {
          "name": "consultation_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "documents": {
          "name": "documents",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "updated_by": {
          "name": "updated_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_transfer_impact_assessments_organisation_id": {
          "name": "idx_transfer_impact_assessments_organisation_id",
          "columns": [
            {
              "expression": "organisation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_transfer_impact_assessments_destination_country": {
          "name": "idx_transfer_impact_assessments_destination_country",
          "columns": [
            {
              "expression": "destination_country",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_transfer_impact_assessments_status": {
          "name": "idx_transfer_impact_assessments_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_transfer_impact_assessments_risk_level": {
          "name": "idx_transfer_impact_assessments_risk_level",
          "columns": [
            {
              "expression": "risk_level",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_transfer_impact_assessments_tia_reference": {
          "name": "idx_transfer_impact_assessments_tia_reference",
          "columns": [
            {
              "expression": "tia_reference",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_transfer_impact_assessments_submitted_by": {
          "name": "idx_transfer_impact_assessments_submitted_by",
          "columns": [
            {
              "expression": "submitted_by",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_transfer_impact_assessments_next_review_date": {
          "name": "idx_transfer_impact_assessments_next_review_date",
          "columns": [
            {
              "expression": "next_review_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "idx_transfer_impact_assessments_org_reference_unique": {
          "name": "idx_transfer_impact_assessments_org_reference_unique",
          "nullsNotDistinct": false,
          "columns": [
            "organisation_id",
            "tia_reference"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.transfer_mechanisms": {
      "name": "transfer_mechanisms",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "mechanism_type": {
          "name": "mechanism_type",
          "type": "transfer_mechanism_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "mechanism_name": {
          "name": "mechanism_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "mechanism_reference": {
          "name": "mechanism_reference",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "applicable_countries": {
          "name": "applicable_countries",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "data_categories": {
          "name": "data_categories",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "legal_framework": {
          "name": "legal_framework",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "regulatory_approval": {
          "name": "regulatory_approval",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "approval_authority": {
          "name": "approval_authority",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "approval_date": {
          "name": "approval_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "approval_reference": {
          "name": "approval_reference",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "effective_from": {
          "name": "effective_from",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "effective_until": {
          "name": "effective_until",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "auto_renewal": {
          "name": "auto_renewal",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "renewal_terms": {
          "name": "renewal_terms",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "implementation_guidance": {
          "name": "implementation_guidance",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "mandatory_provisions": {
          "name": "mandatory_provisions",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "optional_provisions": {
          "name": "optional_provisions",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "compliance_requirements": {
          "name": "compliance_requirements",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "monitoring_frequency": {
          "name": "monitoring_frequency",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "last_audit_date": {
          "name": "last_audit_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "next_audit_date": {
          "name": "next_audit_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "transfers_using_mechanism": {
          "name": "transfers_using_mechanism",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "last_used_date": {
          "name": "last_used_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "document_templates": {
          "name": "document_templates",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "is_deprecated": {
          "name": "is_deprecated",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "deprecation_notice": {
          "name": "deprecation_notice",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "replaced_by": {
          "name": "replaced_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "updated_by": {
          "name": "updated_by",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_transfer_mechanisms_organisation_id": {
          "name": "idx_transfer_mechanisms_organisation_id",
          "columns": [
            {
              "expression": "organisation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_transfer_mechanisms_mechanism_type": {
          "name": "idx_transfer_mechanisms_mechanism_type",
          "columns": [
            {
              "expression": "mechanism_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_transfer_mechanisms_is_active": {
          "name": "idx_transfer_mechanisms_is_active",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_transfer_mechanisms_effective_until": {
          "name": "idx_transfer_mechanisms_effective_until",
          "columns": [
            {
              "expression": "effective_until",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_transfer_mechanisms_next_audit_date": {
          "name": "idx_transfer_mechanisms_next_audit_date",
          "columns": [
            {
              "expression": "next_audit_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "idx_transfer_mechanisms_org_name_unique": {
          "name": "idx_transfer_mechanisms_org_name_unique",
          "nullsNotDistinct": false,
          "columns": [
            "organisation_id",
            "mechanism_name"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_right_requests": {
      "name": "user_right_requests",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "user_right_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "user_right_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "requested_at": {
          "name": "requested_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "verified_at": {
          "name": "verified_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "processed_at": {
          "name": "processed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "rejection_reason": {
          "name": "rejection_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "admin_notes": {
          "name": "admin_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "attachments": {
          "name": "attachments",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "ARRAY[]::text[]"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_user_right_requests_user_id": {
          "name": "idx_user_right_requests_user_id",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_right_requests_organisation_id": {
          "name": "idx_user_right_requests_organisation_id",
          "columns": [
            {
              "expression": "organisation_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_right_requests_status": {
          "name": "idx_user_right_requests_status",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_right_requests_type": {
          "name": "idx_user_right_requests_type",
          "columns": [
            {
              "expression": "type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_user_right_requests_requested_at": {
          "name": "idx_user_right_requests_requested_at",
          "columns": [
            {
              "expression": "requested_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "email": {
          "name": "email",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "first_name": {
          "name": "first_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "last_name": {
          "name": "last_name",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "profile_image_url": {
          "name": "profile_image_url",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "password_hash": {
          "name": "password_hash",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "role": {
          "name": "role",
          "type": "user_role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'user'"
        },
        "status": {
          "name": "status",
          "type": "user_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "organisation_id": {
          "name": "organisation_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "job_title": {
          "name": "job_title",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "department": {
          "name": "department",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "phone": {
          "name": "phone",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "bio": {
          "name": "bio",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "allow_certificate_download": {
          "name": "allow_certificate_download",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "requires_password_change": {
          "name": "requires_password_change",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "last_active": {
          "name": "last_active",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_customer_id": {
          "name": "stripe_customer_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_email_unique": {
          "name": "users_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.webhook_events": {
      "name": "webhook_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "stripe_event_id": {
          "name": "stripe_event_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "varchar",
          "primaryKey": false,
          "notNull": true
        },
        "processed_at": {
          "name": "processed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "success": {
          "name": "success",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "correlation_id": {
          "name": "correlation_id",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_webhook_events_stripe_event_id": {
          "name": "idx_webhook_events_stripe_event_id",
          "columns": [
            {
              "expression": "stripe_event_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_webhook_events_processed_at": {
          "name": "idx_webhook_events_processed_at",
          "columns": [
            {
              "expression": "processed_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_webhook_events_event_type": {
          "name": "idx_webhook_events_event_type",
          "columns": [
            {
              "expression": "event_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "webhook_events_stripe_event_id_unique": {
          "name": "webhook_events_stripe_event_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "stripe_event_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.adequacy_decision_status": {
      "name": "adequacy_decision_status",
      "schema": "public",
      "values": [
        "adequate",
        "inadequate",
        "under_review",
        "pending",
        "transitional"
      ]
    },
    "public.assignment_status": {
      "name": "assignment_status",
      "schema": "public",
      "values": [
        "not_started",
        "in_progress",
        "completed",
        "overdue"
      ]
    },
    "public.billing_cadence": {
      "name": "billing_cadence",
      "schema": "public",
      "values": [
        "monthly",
        "annual"
      ]
    },
    "public.billing_model": {
      "name": "billing_model",
      "schema": "public",
      "values": [
        "metered_per_active_user",
        "per_seat",
        "flat_subscription"
      ]
    },
    "public.billing_status": {
      "name": "billing_status",
      "schema": "public",
      "values": [
        "active",
        "past_due",
        "canceled",
        "unpaid",
        "incomplete",
        "incomplete_expired",
        "trialing",
        "paused"
      ]
    },
    "public.breach_severity": {
      "name": "breach_severity",
      "schema": "public",
      "values": [
        "low",
        "medium",
        "high",
        "critical"
      ]
    },
    "public.breach_status": {
      "name": "breach_status",
      "schema": "public",
      "values": [
        "detected",
        "assessed",
        "notified_ico",
        "notified_subjects",
        "resolved"
      ]
    },
    "public.completion_status": {
      "name": "completion_status",
      "schema": "public",
      "values": [
        "pass",
        "fail"
      ]
    },
    "public.compliance_document_status": {
      "name": "compliance_document_status",
      "schema": "public",
      "values": [
        "draft",
        "pending_review",
        "approved",
        "published",
        "archived",
        "superseded",
        "withdrawn"
      ]
    },
    "public.compliance_document_type": {
      "name": "compliance_document_type",
      "schema": "public",
      "values": [
        "privacy_policy",
        "cookie_policy",
        "data_protection_agreement",
        "terms_of_service",
        "children_privacy_notice",
        "consent_notice",
        "legitimate_interests_assessment",
        "data_retention_policy",
        "breach_notification_template",
        "user_rights_information",
        "international_transfer_notice",
        "processor_agreement"
      ]
    },
    "public.consent_status": {
      "name": "consent_status",
      "schema": "public",
      "values": [
        "granted",
        "denied",
        "withdrawn",
        "pending"
      ]
    },
    "public.cookie_category": {
      "name": "cookie_category",
      "schema": "public",
      "values": [
        "strictly_necessary",
        "functional",
        "analytics",
        "advertising"
      ]
    },
    "public.course_status": {
      "name": "course_status",
      "schema": "public",
      "values": [
        "draft",
        "published",
        "archived"
      ]
    },
    "public.data_category": {
      "name": "data_category",
      "schema": "public",
      "values": [
        "identity",
        "contact",
        "financial",
        "demographic",
        "education",
        "technical",
        "usage",
        "special"
      ]
    },
    "public.data_lifecycle_status": {
      "name": "data_lifecycle_status",
      "schema": "public",
      "values": [
        "active",
        "retention_pending",
        "deletion_scheduled",
        "soft_deleted",
        "deletion_pending",
        "securely_erased",
        "archived",
        "frozen"
      ]
    },
    "public.document_generation_mode": {
      "name": "document_generation_mode",
      "schema": "public",
      "values": [
        "automatic",
        "semi_automatic",
        "manual",
        "template_based"
      ]
    },
    "public.document_type": {
      "name": "document_type",
      "schema": "public",
      "values": [
        "transfer_impact_assessment",
        "data_protection_agreement",
        "standard_contractual_clauses",
        "international_data_transfer_agreement",
        "binding_corporate_rules",
        "adequacy_decision_document",
        "supplementary_measures",
        "transfer_approval_letter",
        "due_diligence_report",
        "cessation_plan"
      ]
    },
    "public.email_provider": {
      "name": "email_provider",
      "schema": "public",
      "values": [
        "smtp_generic",
        "sendgrid_api",
        "brevo_api",
        "mailgun_api",
        "postmark_api",
        "mailjet_api",
        "sparkpost_api"
      ]
    },
    "public.email_routing_source": {
      "name": "email_routing_source",
      "schema": "public",
      "values": [
        "org_primary",
        "org_fallback",
        "system_default",
        "mixed_config"
      ]
    },
    "public.email_send_status": {
      "name": "email_send_status",
      "schema": "public",
      "values": [
        "pending",
        "sent",
        "failed",
        "retrying"
      ]
    },
    "public.email_template_category": {
      "name": "email_template_category",
      "schema": "public",
      "values": [
        "admin",
        "learner"
      ]
    },
    "public.email_template_type": {
      "name": "email_template_type",
      "schema": "public",
      "values": [
        "welcome_account_created",
        "course_assigned",
        "course_reminder",
        "course_overdue",
        "training_expiring_soon",
        "training_expired",
        "course_completion_certificate",
        "failed_attempt",
        "password_reset",
        "new_user_registered",
        "user_completed_course",
        "user_failed_course",
        "staff_training_expiring",
        "staff_training_expired",
        "weekly_training_summary",
        "smtp_test",
        "system_test",
        "new_user_welcome",
        "admin.new_user_added",
        "admin.new_admin_added",
        "new_org_welcome",
        "course_assigned_notification",
        "course_completion_notification",
        "course_failure_notification",
        "plan_updated_notification"
      ]
    },
    "public.email_trigger_event": {
      "name": "email_trigger_event",
      "schema": "public",
      "values": [
        "ORG_FAST_ADD",
        "USER_FAST_ADD",
        "COURSE_ASSIGNED",
        "COURSE_COMPLETED",
        "COURSE_FAILED",
        "PLAN_UPDATED"
      ]
    },
    "public.marketing_consent_type": {
      "name": "marketing_consent_type",
      "schema": "public",
      "values": [
        "email",
        "sms",
        "phone",
        "post",
        "push_notifications"
      ]
    },
    "public.organisation_status": {
      "name": "organisation_status",
      "schema": "public",
      "values": [
        "active",
        "archived",
        "deleted"
      ]
    },
    "public.plan_status": {
      "name": "plan_status",
      "schema": "public",
      "values": [
        "active",
        "inactive",
        "archived"
      ]
    },
    "public.price_change_policy": {
      "name": "price_change_policy",
      "schema": "public",
      "values": [
        "prorate_immediately",
        "at_period_end",
        "manual"
      ]
    },
    "public.processing_lawful_basis": {
      "name": "processing_lawful_basis",
      "schema": "public",
      "values": [
        "consent",
        "contract",
        "legal_obligation",
        "vital_interests",
        "public_task",
        "legitimate_interests"
      ]
    },
    "public.retention_data_type": {
      "name": "retention_data_type",
      "schema": "public",
      "values": [
        "user_profile",
        "user_authentication",
        "course_progress",
        "certificates",
        "communications",
        "audit_logs",
        "support_tickets",
        "billing_records",
        "consent_records",
        "analytics_data",
        "uploaded_files",
        "system_logs",
        "backup_data"
      ]
    },
    "public.retention_deletion_method": {
      "name": "retention_deletion_method",
      "schema": "public",
      "values": [
        "soft",
        "hard"
      ]
    },
    "public.retention_policy_trigger": {
      "name": "retention_policy_trigger",
      "schema": "public",
      "values": [
        "time_based",
        "event_based",
        "consent_withdrawal",
        "account_deletion",
        "contract_termination",
        "manual_request",
        "legal_obligation"
      ]
    },
    "public.retention_schedule_status": {
      "name": "retention_schedule_status",
      "schema": "public",
      "values": [
        "scheduled",
        "completed",
        "cancelled"
      ]
    },
    "public.scorm_attempt_status": {
      "name": "scorm_attempt_status",
      "schema": "public",
      "values": [
        "not_started",
        "in_progress",
        "completed",
        "abandoned"
      ]
    },
    "public.scorm_standard": {
      "name": "scorm_standard",
      "schema": "public",
      "values": [
        "1.2",
        "2004"
      ]
    },
    "public.secure_erase_method": {
      "name": "secure_erase_method",
      "schema": "public",
      "values": [
        "simple_delete",
        "overwrite_once",
        "overwrite_multiple",
        "cryptographic_erase",
        "physical_destruction"
      ]
    },
    "public.tax_behavior": {
      "name": "tax_behavior",
      "schema": "public",
      "values": [
        "inclusive",
        "exclusive"
      ]
    },
    "public.tia_status": {
      "name": "tia_status",
      "schema": "public",
      "values": [
        "draft",
        "under_review",
        "approved",
        "rejected",
        "requires_revision",
        "expired",
        "withdrawn"
      ]
    },
    "public.ticket_category": {
      "name": "ticket_category",
      "schema": "public",
      "values": [
        "technical",
        "billing",
        "account",
        "training",
        "feature_request",
        "bug_report",
        "general"
      ]
    },
    "public.ticket_priority": {
      "name": "ticket_priority",
      "schema": "public",
      "values": [
        "low",
        "medium",
        "high",
        "urgent"
      ]
    },
    "public.ticket_status": {
      "name": "ticket_status",
      "schema": "public",
      "values": [
        "open",
        "in_progress",
        "resolved",
        "closed"
      ]
    },
    "public.transfer_frequency": {
      "name": "transfer_frequency",
      "schema": "public",
      "values": [
        "continuous",
        "daily",
        "weekly",
        "monthly",
        "quarterly",
        "annual",
        "ad_hoc",
        "event_driven"
      ]
    },
    "public.transfer_legal_basis": {
      "name": "transfer_legal_basis",
      "schema": "public",
      "values": [
        "adequacy_decision",
        "appropriate_safeguards",
        "binding_corporate_rules",
        "approved_code_conduct",
        "approved_certification",
        "specific_situation",
        "explicit_consent",
        "contract_performance",
        "public_interest",
        "legal_claims",
        "vital_interests",
        "public_register"
      ]
    },
    "public.transfer_mechanism_type": {
      "name": "transfer_mechanism_type",
      "schema": "public",
      "values": [
        "adequacy_decision",
        "standard_contractual_clauses",
        "international_data_transfer_agreement",
        "binding_corporate_rules",
        "approved_certification_scheme",
        "approved_code_conduct",
        "ad_hoc_contractual_clauses",
        "no_mechanism_required"
      ]
    },
    "public.transfer_risk_level": {
      "name": "transfer_risk_level",
      "schema": "public",
      "values": [
        "low",
        "medium",
        "high",
        "very_high",
        "prohibited"
      ]
    },
    "public.transfer_status": {
      "name": "transfer_status",
      "schema": "public",
      "values": [
        "active",
        "suspended",
        "terminated",
        "under_review",
        "pending_approval",
        "non_compliant",
        "migrating_mechanism"
      ]
    },
    "public.transfer_type": {
      "name": "transfer_type",
      "schema": "public",
      "values": [
        "customer_data",
        "employee_data",
        "supplier_data",
        "marketing_data",
        "technical_data",
        "financial_data",
        "health_data",
        "biometric_data",
        "other_special_category"
      ]
    },
    "public.user_right_status": {
      "name": "user_right_status",
      "schema": "public",
      "values": [
        "pending",
        "in_progress",
        "completed",
        "rejected",
        "expired"
      ]
    },
    "public.user_right_type": {
      "name": "user_right_type",
      "schema": "public",
      "values": [
        "access",
        "rectification",
        "erasure",
        "restriction",
        "objection",
        "portability"
      ]
    },
    "public.user_role": {
      "name": "user_role",
      "schema": "public",
      "values": [
        "superadmin",
        "admin",
        "user"
      ]
    },
    "public.user_status": {
      "name": "user_status",
      "schema": "public",
      "values": [
        "active",
        "inactive"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}